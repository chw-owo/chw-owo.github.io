---
title: Procademy, Q2, 01) Network, Basic - 캐시 서버, 보안
categories: ProcademyReview
tags: 
toc: true
toc_sticky: true
---

이 포스트는 프로카데미 (게임 서버 아카데미) 수업을 바탕으로 공부한 내용을 정리한 것입니다. 

# **1. Cache Server**

## **1) Cache Server**

캐시 서버는 결과물의 사본을 가까이에 저장해서 빠르게 접근할 수 있도록 할 수 있는 서버로, ISP, CP 등에서는 회선 시간 및 비용 절약을 위해 캐시 서버를 사용한다. 이때, Stateless 서버에서는 캐시 서버를 적극적으로 사용할 수 있는 반면, Stateful 서버에서는 이를 사용하기 어렵다. 실시간 콘텐츠 특성상 우선 데이터 유효기간이 너무 짧고, 엄격한 동기화가 필요하지 않은 웹 서비스와 달리 동기화 문제를 감당하기 어렵기 때문이다. 따라서 랭킹 등에서 부분적으로 쓰는 것 외에는 사실상 도입하기 어렵다.

실시간 온라인 게임에서 캐시 서버는 쓰지 않지만, 그와 별개로 서버 앞단에 무언가를 두는 경우는 간혹 있다. 이는 Proxy, Agent 등의 이름으로 불리는데 이 경우 유저들이 여기를 경유하여 서버에 연결된다. 이것은 정상 메시지인지 확인하는 역할, 서버 부하 분산을 위한 작업 역할 그리고 서버의 IP와 port를 외부로부터 감추는 역할, 채널 분산 서버에서 서버 전환을 감추는 역할 등을 하나, 큰 효과는 없다고 한다. 

**+)**

ISP: Internet Service Provider. KT, LG 같이 인터넷 회선을 제공하는 업체.

CP: Contents Provider. Google, Youtube 같이 콘텐츠를 제공하는 업체.

## **2) Proxy Server**

Proxy Server는 클라이언트가 자신을 통해 다른 네트워크 서비스에 간접적으로 접속할 수 있도록 하는 컴퓨터 시스템 및 응용 시스템 전반을 가리킨다. 즉, 서버와 클라이언트 사이에 중계기로서 대리 통신을 수행하는 것을 가리켜 프록시라 부르는 것이다. 과거엔 속도 향상을 위해 사용자가 프록시 서버를 설정하여 거기에 접근한 뒤, 원하는 데이터가 있으면 빠르게 가져와서 사용했다. 이때, 프록시는 유저 측에서 거쳐가는 경유지로, 캐시 서버는 서버 운영 측에서 성능 향상을 위해 운영하는 목적으로 쓰인다. 동작 방식과 기능은 유사하지만 운영 입장이 다르다. 최근에는 프록시 서버가 캐싱의 기능 대신 악의적 목적의 우회를 위한 경유지 기능으로 주로 쓰인다.

<br/>

# **2. 네트워크와 보안**

## **1) HTTPS**

HTTP의 경우 세션이 노출되면 나에 대한 연결 세션이 털릴 수 있는 위험이 있어서 최근에는 거의 사용되지 않는다. HTTPS는 암호화가 느리기 때문에 서버에 부담이 가지만, 메시지가 갈취 되어도 문제가 생기지 않는다. 과거에는 HTTP를 기본으로 쓰되 로그인 등 개인정보를 포함한 페이지만 HTTPS를 사용하기도 했다. 그러나 웹과 달리 게임은 암호화 잘 하지 않는다. 웹 상의 개인정보는 제 3자가 갈취하여 악용할 여지가 있지만 게임 데이터는 제 3자가 얻을 이유가 없기 때문이다. 따라서 암호화 대신 클라에서 온 정보에 대해 서버에서 조작 가능성을 체크를 한다. 이 때문에 서버에서의 암호화는 쓰레기값을 걸러내는 용도로만 쓰이는 경우가 많다. 

## **2) 방화벽**

방화벽은 상대의 IP를 바탕으로, 그리고 내 port를 바탕으로 통제를 한다. IP는 공인 /사설로 나뉘며, 사설 IP는 임의로 쓸 수 있는 대역폭으로서 주어지는데 이때 허용하지 않은 대역폭의 IP는 데이터를 받지 않는 것이 방화벽의 역할이다.  게임의 경우 대부분 국가별로 서비스 하기 때문에 해당 국가의 IP만 허용하는 경우가 많다. 

