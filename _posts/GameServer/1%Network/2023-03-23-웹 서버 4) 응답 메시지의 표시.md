---
title: 웹 서버 4) 응답 메시지의 표시
categories: 1%Network
tags: 
toc: true
toc_sticky: true
---

이 포스트는 Tsutomu tone의 <성공과 실패를 결정하는 1%의 네트워크 원리(성안당)> 내용을 바탕으로 공부한 내용을 정리한 것입니다. 

# **1. 응답 메시지 형식의 의미**

프로토콜 스택으로부터 응답 메시지를 건네 받으면, 브라우저는 화면 표시 동작을 진행한다. 화면 표시 동작은 헤더의 Content-Type을 바탕으로 응답 메시지 데이터의 종류를 조사하는 것에서 시작한다. text/html, image/gif, audio/mpeg 등과 같이 /를 기준으로 왼쪽에는 주 타입, 오른쪽에는 서브 타입이 온다. 이 방법은 MIME이라는 사양에 규정되어 있다. 

데이터 종류가 텍스트라면 charset으로 문자 코드 정보를 부가하며, 변환한 데이터라면 Content-Encoding 헤더 필드에 인코딩 방법도 함께 부가한다. 웹 서버 설정이 부적절하거나 Content-Type에 정확한 값이 설정되지 않은 경우 이걸로 데이터 종류를 판단할 수 없는데, 이때는 요청한 파일의 확장자, 데이터 내용의 포맷 등 다른 판단 근거를 사용하기도 한다. 

<br/>

# **2. 브라우저 화면 송출**

데이터 종류가 판명되면 그 종류에 맞춰 화면 표시 프로그램을 호출해 데이터를 화면에 표시한다. HTML 문서라면 태그에 맞게 해석하여 결과를 출력하는데, 실제 화면 표시 동작은 OS가 담당하므로 OS에 대해 어떤 위치에 어떤 데이터를 표시할지 지시하게 된다. 화상을 내장한 웹페이지의 경우 HTML 문장 데이터 안에 화상이 내장되었음을 나타내는 태그를 사용하여 해당 태그를 발견할 경우 화상 데이터를 서버에서 읽어와 띄운다. JPEG, GIF 등처럼 압축된 데이터는 압축을 풀고 OS에 건네주어 표시하도록 지시한다. 만약 웹 서버에서 애플리케이션 형태의 데이터를 읽어온 경우 해당 애플리케이션을 호출한다. 

