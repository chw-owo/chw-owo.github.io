---
title: C++, const와 메모리 구조
categories: Cpp
tags: 
toc: true
toc_sticky: true
---

## **1. const**

한번 정해지면 절대 바뀌지 않을 값들을 선언할 때, constant(상수)의 약자인 const를 붙여서 선언하며 변수를 상수화 한다고 표현한다. const를 붙인다면 초기값을 반드시 지정해야 한다. 예를 들면 아래와 같다.

```c++
const int SLEEPY = 3;
```
const를 붙여서 선언한 경우에는 이후 코드에서 값을 바꿀 수 없다. 

<br/>

## **2. 메모리 구조**

코드에서 함수 외부 영역에 선언하는 것을 전역 변수라고 한다. 전역 변수로 선언하면 주로 (초기값이 없는 경우) bss 혹은 (초기값이 있는 경우) data 영역에 만들어진다. 추가적으로, 전역 변수로 선언된 것 중 읽기 전용 데이터에 해당하는 경우 (const 변수, 문자열 등) .rodata 영역에 만들어지기도 한다. 이러한 전역 변수는 어떤 함수에서든 접근할 수 있다. 반면 함수 (main 함수 포함) 내부에 변수를 선언할 경우 stack 영역에 변수가 만들어지며 함수 외부에서 접근할 수 없다. 

<br/>

## **3. 변수의 생존범위**

스택에 쌓이는 변수의 경우 중괄호의 범위가 생존 범위가 된다. 따라서 아래와 같이 사용하면 같이 이름의 변수를 두번 선언하는 것도 가능하다. (구조상 가능하다는 것이지 권장한다는 게 아니다)

```c++
int hp = 10;
int main()
{
    int hp = 20;
    cout << hp << endl;  // hp = 20
}
```
```c++
int main()
{
    {
        int hp = 10;
        cout << hp << endl; // hp = 10
    }

    int hp = 20;
    cout << hp << endl; // hp = 20
}
```

<br/>

## **출처**

[C++과 언리얼로 만드는 MMORPG 게임 개발 시리즈] Part1: C++ 프로그래밍 입문, Rookiss
