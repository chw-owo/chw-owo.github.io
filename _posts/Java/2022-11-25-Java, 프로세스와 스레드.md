---
title: Java, í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ
categories: CS
tags: 
toc: true
toc_sticky: true
---

## ğŸ“Œí”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ


![image](https://user-images.githubusercontent.com/96677719/150942976-78112769-2e33-410a-b66a-30c5dcf560a4.png)

![image](https://user-images.githubusercontent.com/96677719/150943023-11289b48-aed2-42e4-9e52-3b585e34e600.png)

í”„ë¡œì„¸ìŠ¤ë€ ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ì„ ì˜ë¯¸í•œë‹¤. í”„ë¡œì„¸ìŠ¤ëŠ” í”„ë¡œê·¸ë¨ì— ì‚¬ìš©ë˜ëŠ” ë°ì´í„°, ë©”ëª¨ë¦¬ ë“±ì˜ ìì›ê³¼ ìŠ¤ë ˆë“œë¡œ êµ¬ì„±ëœë‹¤. ë°˜ë©´ ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ ì•ˆì—ì„œ ì‹¤ì œë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì£¼ì²´ë¥¼ ì˜ë¯¸í•œë‹¤. ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì—ëŠ” í•œ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì¡´ì¬í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì‘ì—… ë‘ê°œê°€ ë™ì‹œì— ì‹¤í–‰ë  ìˆ˜ëŠ” ì—†ì§€ë§Œ ì•„ì£¼ ë¹ ë¥´ê²Œ ë‘ê°œì˜ ì‘ì—…ì„ ë²ˆê°ˆì•„ ì‹¤í–‰í•˜ë¯€ë¡œì¨ ë§ˆì¹˜ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ì™€ ê°™ì´ ì¼ì´ ì§„í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ëŠ” í”„ë¡œì„¸ìŠ¤, ì¦‰ ë©€í‹°ìŠ¤ë ˆë“œ í”„ë¡œì„¸ìŠ¤ë¼ê³  ë¶€ë¥¸ë‹¤. JVM ìœ„ì—ì„œ ë‘ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ëŒì•„ê°€ê²Œ í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ ë©€í‹° ìŠ¤ë ˆë“œëŠ” êµ¬í˜„ ê°€ëŠ¥í•˜ë‹¤.

## ğŸ“ŒìŠ¤ë ˆë“œì˜ ìƒì„±ê³¼ ì‹¤í–‰

ìë°”ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì—ëŠ” Thread í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ëŠ” ë°©ë²•ê³¼ Runnable Interfaceë¥¼ ìƒì† ë°›ëŠ” ë°©ë²• ë‘ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.

#### Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ë°©ë²•


```java

public class Sample extends Thread {
    public void run() {  // Thread ë¥¼ ìƒì†í•˜ë©´ run ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
        System.out.println("thread run.");
    }

    public static void main(String[] args) {
        Sample sample = new Sample();
        sample.start();  // start()ë¡œ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•œë‹¤.
    }
}

```

ìœ„ ì˜ˆì‹œì—ì„œëŠ” Sample í´ë˜ìŠ¤ê°€ Thread í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆë‹¤. Thread í´ë˜ìŠ¤ë¥¼ extends í–ˆê¸°ë•Œë¬¸ì— start ë©”ì†Œë“œ ì‹¤í–‰ì‹œ run ë©”ì†Œë“œê°€ ìˆ˜í–‰ëœë‹¤. Thread í´ë˜ìŠ¤ëŠ” start ì‹¤í–‰ ì‹œ run ë©”ì†Œë“œê°€ ìˆ˜í–‰ë˜ë„ë¡ ë‚´ë¶€ì ìœ¼ë¡œ ë™ì‘í•œë‹¤. ì´ì œ ë©€í‹°ìŠ¤ë ˆë“œ í”„ë¡œì„¸ìŠ¤ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì‚´í´ë³´ì.

```java
public class Sample extends Thread {
    int seq;

    public Sample(int seq) {
        this.seq = seq;
    }

    public void run() {
        System.out.println(this.seq + " thread start.");  // ì“°ë ˆë“œ ì‹œì‘
        try {
            Thread.sleep(1000);  // 1ì´ˆ ëŒ€ê¸°í•œë‹¤.
        } catch (Exception e) {
        }
        System.out.println(this.seq + " thread end.");  // ì“°ë ˆë“œ ì¢…ë£Œ 
    }

    public static void main(String[] args) {
        for (int i = 0; i < 10; i++) {  // ì´ 10ê°œì˜ ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ì‹¤í–‰í•œë‹¤.
            Thread t = new Sample(i);
            t.start();
        }
        System.out.println("main end.");  // main ë©”ì†Œë“œ ì¢…ë£Œ
    }
}
```

ì´ë•Œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì˜¨ë‹¤.

```java
0 thread start.
4 thread start.
6 thread start.
2 thread start.
main end.
3 thread start.
7 thread start.
8 thread start.
1 thread start.
9 thread start.
5 thread start.
0 thread end.
4 thread end.
2 thread end.
6 thread end.
7 thread end.
3 thread end.
8 thread end.
9 thread end.
1 thread end.
5 thread end.
```
0ë²ˆ ì“°ë ˆë“œë¶€í„° 9ë²ˆ ì“°ë ˆë“œê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ì´ ë˜ì§€ ì•Šê³  ê·¸ ìˆœì„œê°€ ì¼ì •ì¹˜ ì•Šì€ ê²ƒì„ ë³´ë©´ ì“°ë ˆë“œëŠ” ìˆœì„œì— ìƒê´€ì—†ì´ ì‹¤í–‰ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤. ë¬¸ì œëŠ” ì“°ë ˆë“œê°€ ëª¨ë‘ ìˆ˜í–‰ë˜ê³  ì¢…ë£Œë˜ê¸° ì „ì— main ë©”ì†Œë“œê°€ ë¨¼ì € ì¢…ë£Œë˜ì–´ ë²„ë ¸ë‹¤. ëª¨ë“  ì“°ë ˆë“œê°€ ì¢…ë£Œëœ í›„ì— main ë©”ì†Œë“œë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ join() ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤.

```java
import java.util.ArrayList;

public class Sample extends Thread {
    int seq;
    public Sample(int seq) {
        this.seq = seq;
    }

    public void run() {
        System.out.println(this.seq+" thread start.");
        try {
            Thread.sleep(1000);
        }catch(Exception e) {
        }
        System.out.println(this.seq+" thread end.");
    }

    public static void main(String[] args) {
        ArrayList<Thread> threads = new ArrayList<>();
        for(int i=0; i<10; i++) {
            Thread t = new Sample(i);
            t.start();
            threads.add(t);
        }

        for(int i=0; i<threads.size(); i++) {
            Thread t = threads.get(i);
            try {
                t.join(); // t ì“°ë ˆë“œê°€ ì¢…ë£Œí•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
            }catch(Exception e) {
            }
        }
        System.out.println("main end.");
    }
}
```

join ë©”ì†Œë“œëŠ” ì“°ë ˆë“œê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. main ë©”ì†Œë“œê°€ ì¢…ë£Œë˜ê¸° ì „ì— ê°ê°ì˜ threadì— joinì„ í˜¸ì¶œí•˜ì—¬ ì“°ë ˆë“œê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ë„ë¡ í–ˆë‹¤. ì“°ë ˆë“œ í”„ë¡œê·¸ë˜ë°ì„ í•  ë•ŒëŠ” ì“°ë ˆë“œê°€ ì¢…ë£Œë˜ì§€ ì•Šì•˜ëŠ”ë° ì“°ë ˆë“œê°€ ì¢…ë£Œëœ ì¤„ ì•Œê³  ê·¸ ë‹¤ìŒ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ì¼ì´ ì—†ë„ë¡ ì£¼ì˜í•´ì•¼ í•œë‹¤.

#### Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•

Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°ê°€ ë” ë§ë‹¤. Runnable ì¸í„°í˜ì´ìŠ¤ëŠ” run() ë©”ì†Œë“œ ë‹¨ í•˜ë‚˜ë§Œì„ ê°€ì§€ëŠ” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë‹¤. ìœ„ì˜ ì˜ˆì œë¥¼ Runnableë¡œ ë°”ê¾¸ì–´ë³´ì

```java
import java.util.ArrayList;

public class Sample implements Runnable {
    int seq;
    public Sample(int seq) {
        this.seq = seq;
    }

    public void run() {
        System.out.println(this.seq+" thread start.");
        try {
            Thread.sleep(1000);
        }catch(Exception e) {
        }
        System.out.println(this.seq+" thread end.");
    }

    public static void main(String[] args) {
        ArrayList<Thread> threads = new ArrayList<>();
        for(int i=0; i<10; i++) {
            Thread t = new Thread(new Sample(i));
            t.start();
            threads.add(t);
        }

        for(int i=0; i<threads.size(); i++) {
            Thread t = threads.get(i);
            try {
                t.join();
            }catch(Exception e) {
            }
        }
        System.out.println("main end.");
    }
}
```
ì´ë ‡ê²Œ ë³€ê²½ëœ ì½”ë“œëŠ” ì´ ì „ì— ë§Œë“¤ì—ˆë˜ ì˜ˆì œì™€ ì™„ì „íˆ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤. ë‹¤ë§Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í–ˆìœ¼ë‹ˆ ìƒì† ë° ê¸°íƒ€ ë“±ë“±ì—ì„œ ì¢€ ë” ìœ ì—°í•œ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë°œì „í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ë‹¤. ì´ë•Œ, Runnable ì¸í„°í˜ì´ìŠ¤ëŠ” run ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë„ë¡ ê°•ì œí•œë‹¤.

## ğŸ“ŒìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„

ìë°”ì—ì„œ ê° ìŠ¤ë ˆë“œì—ëŠ” ìš°ì„ ìˆœìœ„ë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆì–´ì„œ ìš°ì„  ìˆœìœ„ì— ë”°ë¼ íŠ¹ì • ìŠ¤ë ˆë“œê°€ ë” ì˜¤ë˜ ì‘ì—…í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

static int MAX_PRIORIT:	ìŠ¤ë ˆë“œê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìš°ì„ ìˆœìœ„ë¥¼ ëª…ì‹œí•¨.

static int MIN_PRIORITY:	ìŠ¤ë ˆë“œê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìµœì†Œ ìš°ì„ ìˆœìœ„ë¥¼ ëª…ì‹œí•¨.

static int NORM_PRIORITY:	ìŠ¤ë ˆë“œê°€ ìƒì„±ë  ë•Œ ê°€ì§€ëŠ” ê¸°ë³¸ ìš°ì„ ìˆœìœ„ë¥¼ ëª…ì‹œí•¨.
 

getPriority()ì™€ setPriority() ë©”ì†Œë“œë¥¼ í†µí•´ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë²”ìœ„ëŠ” 1ë¶€í„° 10ê¹Œì§€ì´ë©°, ìˆ«ìê°€ ë†’ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ ë˜í•œ ë†’ì•„ì§„ë‹¤.
 
ê·¸ë¦¬ê³  ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ëŠ” í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ìƒì†ë°›ëŠ”ë‹¤.

```java
class ThreadWithRunnable implements Runnable {
    public void run() {
       for (int i = 0; i < 5; i++) {
            System.out.println(Thread.currentThread().getName()); // í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ë°˜í™˜í•¨.
            try {
                Thread.sleep(10);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
       }
    }
}
```
```java

public class Thread02 {

    public static void main(String[] args){
        Thread thread1 = new Thread(new ThreadWithRunnable());
        Thread thread2 = new Thread(new ThreadWithRunnable());

      thread2.setPriority(10); // Thread-1ì˜ ìš°ì„ ìˆœìœ„ë¥¼ 10ìœ¼ë¡œ ë³€ê²½í•¨.
      thread1.start(); // Thread-0 ì‹¤í–‰
      thread2.start(); // Thread-1 ì‹¤í–‰

      System.out.println(thread1.getPriority());
      System.out.println(thread2.getPriority());
    }
}
```

ì‹¤í–‰ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤

```
5
10
Thread-1
Thread-0
Thread-1
Thread-0
Thread-1
Thread-0
Thread-1
Thread-0
Thread-1
Thread-0
```

main() ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ëŠ” ì–¸ì œë‚˜ 5ì´ë¯€ë¡œ, main() ë©”ì†Œë“œ ë‚´ì—ì„œ ìƒì„±ëœ ìŠ¤ë ˆë“œ Thread-0ì˜ ìš°ì„ ìˆœìœ„ ì—­ì‹œ 5ë¡œ ì„¤ì •ëœë‹¤. Thread-1ì˜ ìš°ì„ ìˆœìœ„ë¥¼ 10ìœ¼ë¡œ ë³€ê²½í–ˆê¸° ë•Œë¬¸ì—, Thread-1ì´ ë‚˜ì¤‘ì— ì‹¤í–‰ë  ì˜ˆì •ì´ì—ˆë”ë¼ë„ ìš°ì„ ìˆœìœ„ê°€ Thread-0ë³´ë‹¤ ë†’ì•„ ë¨¼ì € ì‹¤í–‰ëœë‹¤.



#### ì¶œì²˜

http://www.tcpschool.com/java/java_thread_concept

https://wikidocs.net/230
