---
title: Procademy, Q2, 23) Data Structure - Binary Tree
categories: ProcademyReview
tags: 
toc: true
toc_sticky: true
---

이 포스트는 프로카데미 (게임 서버 아카데미) 수업을 바탕으로 공부한 내용을 정리한 것입니다. 

# **1. Binary Tree의 개념과 삽입**

Binary Tree, 이진 트리는 부모에 자식이 두개 붙는 자료구조로 빠른 검색에 특화되어 있어서 Binary Search Tree 라고도 부른다. 삽입 시 크기를 비교하여 부모보다 크면 왼쪽 자식, 작으면 오른쪽 자식이 된다. 균형이 잡혀있다면 256 개의 노드 중 하나를 찾을 때 8번만 비교해도 찾을 수 있는 반면, 균형이 쏠려있다면 리스트와 동일해진다. 따라서 일반 이진 트리는 잘 사용되지 않으며, 균형을 맞추는 알고리즘과 함께 사용된다. 이때 이진 트리에는 중복 값을 넣을 수 없다. stl map 역시 이진 트리 구조를 사용하기 때문에 중복 값을 넣을 수 없다. 

<br/>

# **2. Binary Tree의 순회**

```c++
printNodeData(Node*)
{
    // 전위: printf("%d", node->data);
    printNodeData(node->left);
    // 중위: printf("%d", node->data);
    printNodeData(node->right);
    // 후위: printf("%d", node->data);
}
```
트리에서 순회를 할 때는 재귀를 사용한다. 현 노드에서 부모로 가야하는지 형제로 가야하는지 판단할 수 있는 기준이 없기 때문에 일반 이진 트리는 재귀 말고는 순회를 할 수 있는 방법이 없다. 순회는 전위 중위 후위로 나뉘는데 이는 데이터에 언제 접근하고 사용하는지, 즉 위 예시에서는 언제 출력하는 지를 의미한다. 쭉 훑는 것은 동일하지만 현재 데이터를 전에 출력하면 전위, 가운데 출력하면 중위 마지막에 출력하면 후위가 된다. 

중위 순회의 경우 일단 끝까지 들어간 후에 맨 왼쪽 노드를 출력하기 때문에 왼쪽부터 순서대로 출력된다. 즉, 크기 별 정렬 순서에 맞게 데이터를 사용할 수 있게 된다. 전위 순회는 접근 순서대로 데이터를 확인할 수 있다. 후위 순회의 경우 아래부터 지우면서 올라오는 게 가능해지기 때문에 노드를 다 지워야 할 때 소멸자에서 사용하기 좋다. 

<br/>

# **3. Binary Tree의 삭제**

자식이 없을 경우 그냥 삭제하면 되고, 하나만 있을 경우 부모 자식 노드에 내 자식 노드를 연결해주면 된다. 반면 자식이 두개라면 해당 노드를 지우는 것은 너무 복잡한 작업이 된다. 따라서 그 자리에 값을 넣고 대신 지워질 수 있는 위치에 있는 노드를 찾는다. 왼쪽 자식보다는 크고 오른 자식보다는 작은 값, 즉 왼쪽 자식의 오른쪽 자식들 혹은 오른쪽 자식의 왼쪽 자식들 중에서 자식이 1개 이하인 노드를 찾아서 교체하는 것이다. 삭제만 빠르게 하려고 한다면 깊이가 얕은 쪽을 지우는 게 좋지만, 트리 균형의 관점에서는 깊이가 깊은 쪽을 지우는 것이 좋다. 그러나 균형 잡는 코드 없이 이진 트리만 쓰이는 상황 자체가 흔하지 않으므로 그냥 왼쪽의 오른쪽 끝 혹은 오른쪽의 왼쪽 끝으로 고정시켜도 된다.
